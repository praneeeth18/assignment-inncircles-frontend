<div class="card my-3">
    <div class="card-header">
        <h5>{{ isEditMode ? 'Edit Issue' : 'Create Issue' }}</h5>
    </div>
    <div class="card-body">
        <div class="form-container">
            <form [formGroup]="issueForm" (ngSubmit)="onSubmit()">
                <div class="mb-3">
                    <label for="title" class="form-label">Title</label>
                    <input 
                        id="title" 
                        class="form-control" 
                        formControlName="title"
                        [ngClass]="{'is-invalid': issueForm.get('title')?.invalid && (issueForm.get('title')?.dirty || issueForm.get('title')?.touched)}"
                    />
                    <div *ngIf="issueForm.get('title')?.invalid && (issueForm.get('title')?.dirty || issueForm.get('title')?.touched)" class="invalid-feedback">
                        Title is required and must be between 1 and 100 characters.
                    </div>
                </div>

                <div class="mb-3">
                    <label for="description" class="form-label">Description</label>
                    <textarea 
                        id="description" 
                        class="form-control" 
                        formControlName="description"
                        [ngClass]="{'is-invalid': issueForm.get('description')?.invalid && (issueForm.get('description')?.dirty || issueForm.get('description')?.touched)}"
                    ></textarea>
                    <div *ngIf="issueForm.get('description')?.invalid && (issueForm.get('description')?.dirty || issueForm.get('description')?.touched)" class="invalid-feedback">
                        Description is required and must be between 1 and 500 characters.
                    </div>
                </div>

                <div class="mb-3">
                    <label for="status" class="form-label">Status</label>
                    <select 
                        id="status" 
                        class="form-select" 
                        formControlName="status"
                        [ngClass]="{'is-invalid': issueForm.get('status')?.invalid && (issueForm.get('status')?.dirty || issueForm.get('status')?.touched)}"
                    >
                        <option value="OPEN">Open</option>
                        <option value="IN_PROGRESS">In Progress</option>
                        <option value="RESOLVED">Resolved</option>
                        <option value="CLOSED">Closed</option>
                    </select>
                    <div *ngIf="issueForm.get('status')?.invalid && (issueForm.get('status')?.dirty || issueForm.get('status')?.touched)" class="invalid-feedback">
                        Please select a valid status.
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" style="margin: 0 10px;">{{ isEditMode ? 'Update' : 'Submit' }}</button>
                <button type="button" class="btn btn-secondary" (click)="resetForm()">Cancel</button>
            </form>
        </div>
    </div>
</div>
